{
    "name": "hello-world",
    "description": "a dummy command that does nothing",
    "type": "docker",
    "image": "busybox:latest",
    "command-line": "echo hello world",
    "inputs": [
        {
            "name": "file-path",
            "type": "string",
            "required": false
        },
        {
            "name": "whatever",
            "description": "an input that will get filled by something, doesn't matter what",
            "type": "string"
        }
    ],
    "xnat": [
        {
            "name": "session-scan-resource",
            "description": "run the dummy command with a session, from which we derive a scan and a resource",
            "external-inputs": [
                {
                    "name": "session",
                    "type": "Session",
                    "required": true
                },
                {
                    "name": "T1-scantype",
                    "description": "scantype of T1 scan",
                    "type": "string",
                    "default-value": "\\\"SCANTYPE\\\", \\\"OTHER_SCANTYPE\\\"",
                    "required": true
                }
            ],
            "derived-inputs": [
                {
                    "name": "scan",
                    "type": "Scan",
                    "derived-from-xnat-input": "session",
                    "matcher": "@.scan-type in [^wrapper:$.external-inputs[?(@.name == 'T1-scantype')].value^]",
                    "required": true
                },
                {
                    "name": "dicom",
                    "type": "Resource",
                    "derived-from-xnat-input": "scan",
                    "matcher": "@.label == 'DICOM'",
                    "required": true
                },
                {
                    "name": "scan-id",
                    "type": "string",
                    "derived-from-xnat-input": "scan",
                    "derived-from-xnat-object-property": "id",
                    "provides-value-for-command-input": "whatever",
                    "required": true
                }
            ],
            "output-handlers": []
        },
        {
            "name": "scan-resource-file",
            "description": "run the dummy command with a scan, from which we derive a resource and a file",
            "external-inputs": [
                {
                    "name": "a scan",
                    "description": "an input that takes a scan",
                    "type": "Scan",
                    "required": true
                }
            ],
            "derived-inputs": [
                {
                    "name": "a resource",
                    "description": "an input that takes a resource",
                    "type": "Resource",
                    "derived-from-xnat-input": "a scan",
                    "required": true
                },
                {
                    "name": "a file",
                    "description": "a file",
                    "type": "File",
                    "derived-from-xnat-input": "a resource",
                    "required": "true",
                    "provides-value-for-command-input": "file-path"
                },
                {
                    "name": "a file path",
                    "type": "string",
                    "derived-from-xnat-input": "a file",
                    "provides-value-for-command-input": "file-path",
                    "derived-from-xnat-object-property": "path"
                },
                {
                    "name": "scan-id",
                    "type": "string",
                    "derived-from-xnat-input": "a scan",
                    "derived-from-xnat-object-property": "id",
                    "provides-value-for-command-input": "whatever",
                    "required": true
                }
            ]
        },
        {
            "name": "project",
            "description": "run the dummy command with a project input",
            "external-inputs": [
                {
                    "name": "project",
                    "description": "this input accepts a project",
                    "type": "Project",
                    "required": true
                }
            ],
            "derived-inputs": [
                {
                    "name": "project-label",
                    "type": "string",
                    "derived-from-xnat-input": "project",
                    "derived-from-xnat-object-property": "label",
                    "provides-value-for-command-input": "whatever",
                    "required": true
                }
            ]
        },
        {
            "name": "project-subject",
            "description": "run the dummy command with a project input, from which we derive a subject input",
            "external-inputs": [
                {
                    "name": "project",
                    "description": "this input accepts a project",
                    "type": "Project",
                    "required": true
                }
            ],
            "derived-inputs": [
                {
                    "name": "subject",
                    "type": "Subject",
                    "description": "a subject under the project",
                    "derived-from-xnat-input": "project",
                    "required": true
                },
                {
                    "name": "project-label",
                    "type": "string",
                    "derived-from-xnat-input": "project",
                    "derived-from-xnat-object-property": "label",
                    "provides-value-for-command-input": "whatever",
                    "required": true
                }
            ]
        },
        {
            "name": "session-assessor",
            "description": "run the dummy command with a session, from which we derive an assessor",
            "external-inputs": [
                {
                    "name": "session",
                    "type": "Session",
                    "required": true
                }
            ],
            "derived-inputs": [
                {
                    "name": "assessor",
                    "type": "Assessor",
                    "derived-from-xnat-input": "session",
                    "required": true
                },
                {
                    "name": "assessor-label",
                    "type": "string",
                    "derived-from-xnat-input": "assessor",
                    "derived-from-xnat-object-property": "label",
                    "provides-value-for-command-input": "whatever",
                    "required": true
                }
            ]
        }
    ]
}